webpackJsonp([1],{"5Lsz":function(t,e){},"7zck":function(t,e){},CH5Y:function(t,e){},Gpgn:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};n.d(r,"getMovies",function(){return Y}),n.d(r,"getUser",function(){return Q}),n.d(r,"getCategories",function(){return B});var o={};n.d(o,"createMovieAction",function(){return J}),n.d(o,"signUpAction",function(){return X}),n.d(o,"signUserInAction",function(){return Z}),n.d(o,"loadMoviesAction",function(){return tt}),n.d(o,"loadCategoriesAction",function(){return et}),n.d(o,"logoutUserAction",function(){return nt}),n.d(o,"createCategoryAction",function(){return rt});var i={};n.d(i,"createMovieMutation",function(){return ot}),n.d(i,"setUserMutation",function(){return it}),n.d(i,"setLoadedMovies",function(){return st}),n.d(i,"setLoadedCategories",function(){return at}),n.d(i,"logoutUserMutation",function(){return lt});var s=n("7+uW"),a=n("Dd8w"),l=n.n(a),c=n("NYxO"),u={data:function(){return{sideNav:!1}},computed:l()({},Object(c.c)(["getUser"]),{menuItems:function(){var t=[{icon:"supervisor_account",title:"Movies",link:"/movies"},{icon:"supervisor_account",title:"generator",link:"/generator"},{icon:"supervisor_account",title:"login",link:"/login"},{icon:"supervisor_account",title:"signup",link:"/signup"}];return this.userIsAuthenticated&&(t=[{icon:"supervisor_account",title:"Movies",link:"/movies"},{icon:"supervisor_account",title:"Generator",link:"/generator"},{icon:"supervisor_account",title:"New Movie",link:"/newmovie"},{icon:"supervisor_account",title:"New Category",link:"/newcategory"},{icon:"supervisor_account",title:"logout",link:"/logout"}]),t},userIsAuthenticated:function(){return null!==this.getUser&&void 0!==this.getUser}})},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",{staticClass:"teal lighten-2",attrs:{dark:""}},[n("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",nativeOn:{click:function(e){e.stopPropagation(),t.sideNav=!t.sideNav}}}),t._v(" "),n("v-toolbar-title",[n("router-link",{attrs:{to:"/",tag:"button"}},[t._v("Filmweb")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",{staticClass:"hidden-xs-only"},t._l(t.menuItems,function(e){return n("v-btn",{key:e.title,attrs:{flat:"",router:"",to:e.link}},[n("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n        "+t._s(e.title))],1)}))],1),t._v(" "),n("v-navigation-drawer",{attrs:{temporary:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[n("v-list",t._l(t.menuItems,function(e){return n("v-list-tile",{key:e.title,attrs:{"router-link":"",router:"",to:e.link}},[n("v-list-tile-action",[n("v-icon",[t._v("\n            "+t._s(e.icon)+"\n          ")])],1),t._v(" "),n("v-list-tile-content",[t._v("\n          "+t._s(e.title)+"\n        ")])],1)}))],1)],1)},staticRenderFns:[]};var d={name:"App",components:{appHeader:n("VU/8")(u,v,!1,function(t){n("Gpgn")},null,null).exports}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("app-header"),this._v(" "),e("main",[e("router-view")],1)],1)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("5Lsz")},null,null).exports,p=n("/ocq"),g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"6px"}},[n("v-card",{staticClass:"white--text",attrs:{color:"cyan darken-2"}},[n("v-container",{attrs:{fluid:"","grid-list-lg":""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs7:""}},[n("div",[n("div",{staticClass:"headline"},[t._v("\n              "+t._s(t.movie.title)+"\n            ")]),t._v(" "),n("div",[t._v(t._s(t.movie.description))])])]),t._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-card-media",{attrs:{src:t.movie.imageUrl,height:"125px",contain:""}})],1)],1)],1)],1)],1)},staticRenderFns:[]},h=n("VU/8")({data:function(){return{}},props:["movie"]},g,!1,null,null,null).exports,x={data:function(){return{}},components:{MovieElement:h},computed:l()({},Object(c.c)(["getMovies"]))},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{"justify-space-around":"true"}},[e("v-layout",{attrs:{row:"",wrap:""}},this._l(this.getMovies,function(t){return e("v-flex",{attrs:{xs4:""}},[e("movie-element",{attrs:{movie:t}})],1)}))],1)},staticRenderFns:[]},w=n("VU/8")(x,_,!1,null,null,null).exports,y={name:"Home",data:function(){return{}},components:{Recomended:w},computed:l()({},Object(c.c)(["getMovies"]))},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-carousel",t._l(t.getMovies,function(e,r){return n("v-carousel-item",{key:e.id,attrs:{src:e.imageUrl}},[n("div",{staticClass:"title"},[t._v("\n              "+t._s(e.title)+"\n            ")])])}))],1)],1),t._v(" "),n("recomended")],1)},staticRenderFns:[]};var U=n("VU/8")(y,b,!1,function(t){n("Qi3j")},"data-v-e0ca1260",null).exports,C={data:function(){return{email:"",password:""}},computed:l()({},Object(c.c)(["getUser"])),watch:{getUser:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:l()({},Object(c.b)(["signUserInAction"]),{onSignin:function(){var t={email:this.email,password:this.password};this.signUserInAction(t)}})},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("h2",{staticClass:"primary--text"},[t._v("Login")])])],1),t._v(" "),n("v-layout",[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-text",[n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignin(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{type:"submit"}},[t._v("\n                    Sign In\n                  ")])],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]},k=n("VU/8")(C,M,!1,null,null,null).exports,A={data:function(){return{email:"",password:"",confpassword:""}},computed:l()({},Object(c.c)(["getUser"]),{comparePasswords:function(){return this.password===this.confpassword||"Passwords do not match"}}),watch:{getUser:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:l()({},Object(c.b)(["signUpAction"]),{onSignup:function(){var t={email:this.email,password:this.password};this.signUpAction(t)}})},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("h2",{staticClass:"primary--text"},[t._v("Sign Up")])])],1),t._v(" "),n("v-layout",[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-card",[n("v-card-text",[n("v-container",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSignup(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confpassword",type:"password",rules:[t.comparePasswords]},model:{value:t.confpassword,callback:function(e){t.confpassword=e},expression:"confpassword"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{type:"submit"}},[t._v("\n                    Sign Up\n                  ")])],1)],1)],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]},S=n("VU/8")(A,R,!1,null,null,null).exports,I={data:function(){return{select:"",categorySelected:"",imageUrl:"",title:"",desc:""}},computed:l()({},Object(c.c)(["getCategories"]),{formIsValid:function(){return""!==this.title&&""!==this.imageUrl&&""!==this.categorySelected}}),methods:l()({},Object(c.b)(["createMovieAction","createCategory"]),{onCreateMovie:function(){var t={title:this.title,imageUrl:this.imageUrl,description:this.desc,categorySelected:this.categorySelected.title,date:new Date};console.log(t),this.createMovieAction(t),this.clearForm()},clearForm:function(){this.title="",this.imageUrl="",this.desc="",this.categorySelected=""}})},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("h2",{staticClass:"primary--text"},[t._v("Create new Movie")])])],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onCreateMovie(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-text-field",{attrs:{name:"imageUrl",label:"Image URL",id:"imageUrl",required:""},model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:"","offset-sm3":""}},[n("img",{attrs:{src:t.imageUrl}})])],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-text-field",{attrs:{name:"description",label:"Description","multi-line":""},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-select",{attrs:{label:"Category",items:t.getCategories,rules:[function(t){return!!t||"Item is required"}],required:""},model:{value:t.categorySelected,callback:function(e){t.categorySelected=e},expression:"categorySelected"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{on:{click:t.clearForm}},[t._v("Clear")]),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{disabled:!t.formIsValid,type:"submit"}},[t._v("Create")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var E=n("VU/8")(I,F,!1,function(t){n("lRIC")},"data-v-72327aa6",null).exports,O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  generator\n\n")])},staticRenderFns:[]},V=n("VU/8")({},O,!1,null,null,null).exports,j={data:function(){return{selectedCategory:"",movies:[]}},computed:l()({},Object(c.c)(["getMovies","getCategories"]),{Movies:function(){var t=this;return""!==this.selectedCategory&&void 0!==this.selectedCategory?(this.movies=this.getMovies.filter(function(e){return e.category===t.selectedCategory}),this.movies):this.getMovies}}),components:{MovieElement:h},methods:{filterMovies:function(t){this.selectedCategory=t}}},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",[n("v-layout",[n("v-toolbar",t._l(t.getCategories,function(e){return n("v-btn",{key:e.title,attrs:{flat:""},on:{click:function(n){t.filterMovies(e.title)}}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},t._l(t.Movies,function(t){return n("v-flex",{attrs:{xs4:""}},[n("movie-element",{attrs:{movie:t}})],1)}))],1)],1)},staticRenderFns:[]},$=n("VU/8")(j,L,!1,null,null,null).exports,N=n("Sazm"),P={data:function(){return{}},methods:l()({},Object(c.b)(["logoutUserAction"])),mounted:function(){var t=this;N.auth().signOut().then(function(e){t.logoutUserAction(),t.$router.push("/")}).catch(function(t){console.log("error: ",t)})}},q={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},D=n("VU/8")(P,q,!1,null,null,null).exports,z={data:function(){return{title:"",desc:""}},computed:{formIsValid:function(){return""!==this.title}},methods:l()({},Object(c.b)(["createCategoryAction"]),{onCreateCategory:function(){var t={title:this.title,desc:this.desc,items:[]};this.createCategoryAction(t),this.clearForm()},clearForm:function(){this.title="",this.desc=""}})},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("h2",{staticClass:"primary--text"},[t._v("Create new Category")])])],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onCreateCategory(e)}}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[n("v-text-field",{attrs:{name:"description",label:"Description","multi-line":""},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-btn",{on:{click:t.clearForm}},[t._v("Clear")]),t._v(" "),n("v-btn",{staticClass:"primary",attrs:{disabled:!t.formIsValid,type:"submit"}},[t._v("Create")])],1)],1)],1)])],1)],1)},staticRenderFns:[]};var G=n("VU/8")(z,H,!1,function(t){n("CH5Y")},"data-v-ef446da4",null).exports;s.a.use(p.a);var K=new p.a({mode:"history",routes:[{path:"/",name:"Home",component:U},{path:"/recomended",name:"Recomended",component:w},{path:"/login",name:"Login",component:k},{path:"/signup",name:"Signup",component:S},{path:"/newmovie",name:"Newmovie",component:E},{path:"/generator",name:"Generator",component:V},{path:"/movies",name:"Movies",component:$},{path:"/logout",name:"Logout",component:D},{path:"/newcategory",name:"NewCategory",component:G}]}),T=n("3EgV"),W=n.n(T),Y=(n("7zck"),function(t){return t.moviesList}),Q=function(t){return t.user},B=function(t){return t.categories},J=function(t,e){var n=t.commit,r={title:e.title,imageUrl:e.imageUrl,description:e.description,category:e.categorySelected,date:e.date};N.database().ref("movies").push(r).then(function(t){console.log("Udalo sie dodac film : ",t),n("createMovieMutation",r)}).catch(function(t){console.log("Nie udalo sie dodac filmu")})},X=function(t,e){var n=t.commit;N.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,registeredMovies:[]};n("setUserMutation",e)}).catch(function(t){console.log("ERROR : ",t)})},Z=function(t,e){var n=t.commit;N.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){var e={id:t.uid,registeredMovies:t.registeredMovies};n("setUserMutation",e)}).catch(function(t){return console.log("error: ",t)})},tt=function(t){var e=t.commit;N.database().ref("movies").once("value").then(function(t){var n=[],r=t.val();for(var o in r)n.push(r[o]);e("setLoadedMovies",n)}).catch(function(t){console.log("error: ",t)})},et=function(t){var e=t.commit;N.database().ref("categories").once("value").then(function(t){var n=[],r=t.val();for(var o in r)n.push(r[o]);e("setLoadedCategories",n)}).catch(function(t){console.log("error: ",t)})},nt=function(t){(0,t.commit)("logoutUserMutation")},rt=function(t,e){t.commit;N.database().ref("categories").push(e).then(function(t){console.log("Udalo sie dodac kategorie : ")}).catch(function(t){console.log("Nie udalo sie dodac kategorii")})},ot=function(t,e){console.log("from Mutation: ",e),t.moviesList.push(e)},it=function(t,e){t.user=e},st=function(t,e){t.moviesList=e},at=function(t,e){t.categories=e},lt=function(t){t.user=null};console.log("before import firebase"),s.a.use(c.a);var ct=new c.a.Store({state:{moviesList:[],categories:[],user:null},mutations:i,actions:o,getters:r});s.a.use(W.a),s.a.config.productionTip=!0,new s.a({el:"#app",router:K,store:ct,components:{App:f},template:"<App/>",created:function(){console.log("before firebase initialize: ",N),N.initializeApp({apiKey:"AIzaSyCKmD637M9oPpolp0qROLdy2Lhl1DVdKRk",authDomain:"filmbase-5f437.firebaseapp.com",databaseURL:"https://filmbase-5f437.firebaseio.com",projectId:"filmbase-5f437",storageBucket:"filmbase-5f437.appspot.com"}),this.$store.dispatch("loadCategoriesAction"),this.$store.dispatch("loadMoviesAction")}})},Qi3j:function(t,e){},lRIC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2d4f033b7817e02ac0b0.js.map